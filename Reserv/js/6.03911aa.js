(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{ifH8:function(t,e,n){"use strict";var a=n("zw0W"),s=n.n(a);s.a},vBO3:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"page-container",attrs:{"style-fn":t.myTweak}},[n("MarketList",{staticClass:"marketlist",attrs:{markets:t.$store.state.global.marketsVisibleOnMap}}),n("YandexMap",{ref:"map",staticClass:"yandexmap",attrs:{city:t.$store.state.global.currentCity,markets:t.$store.state.global.markets},on:{baloonClick:t.mapBaloonClick,visibleIdsChange:t.visibleIdsChange}}),n("MarketViewModal",{ref:"marketViewModal",attrs:{market:null}}),n("q-modal",{model:{value:t.$store.state.global.loading,callback:function(e){t.$set(t.$store.state.global,"loading",e)},expression:"$store.state.global.loading"}},[t._v("\nЗагрузка...\n\t\t")])],1)},s=[];a._withStripped=!0;n("dRSK"),n("Z2Ku"),n("L9s1");var o={name:"PageHome",data:function(){return{map:null,offset:0,height:this.$store.state.global.viewportHeight-this.offset}},components:{YandexMap:function(){return n.e(1).then(n.bind(null,"ixq0"))},Market:function(){return n.e(2).then(n.bind(null,"u+WG"))},MarketList:function(){return n.e(9).then(n.bind(null,"Ldj2"))},MarketViewModal:function(){return n.e(3).then(n.bind(null,"/J8A"))}},mounted:function(){var t=this;this.$root.$on("goCoord",function(e){t.$refs.map.setCoord(e),t.$refs.map.setZoom(18)}),this.$root.$on("marketOpen",function(e){t.$refs.marketViewModal.marketL=e,t.$refs.marketViewModal.show()})},computed:{isTwoCols:function(){return this.$store.state.global.viewportWidth/this.$store.state.global.viewportHeight>1},pageCssClass:function(){return{row:this.isTwoCols,column:!this.isTwoCols}},cssClass:function(){return{"col-6":!0}},cssStyle:function(){return{}}},methods:{visibleIdsChange:function(t){this.$store.commit("global/SET_MARKETS_VISIBLE_ON_MAP",this.$store.state.global.markets.filter(function(e){return t.includes(e.id)}))},mapBaloonClick:function(t){var e=this.$store.state.global.markets.find(function(e){return e.id===t});this.$root.$emit("marketOpen",e)},myTweak:function(t){this.offset=t;var e=t?"calc(100vh - ".concat(t,"px)"):"100vh";return{minHeight:e,height:e,maxHeight:e}}}},i=o,r=(n("ifH8"),n("KHd+")),l=Object(r["a"])(i,a,s,!1,null,null,null);e["default"]=l.exports},zw0W:function(t,e,n){}}]);